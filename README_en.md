<p align="center">
  <img src="assets/logo.jpg" style="width: 100%; height: auto;">
</p>
<div align="center" style="line-height: 1;">
  <a href="https://arxiv.org/abs/2508.00554" target="_blank"><img alt="arXiv" src="https://img.shields.io/badge/arXiv-2508.00554-B31B1B?logo=arxiv"/></a>
  <a href="https://opensource.org/licenses/Apache-2.0" target="_blank"><img alt="License" src="https://img.shields.io/badge/License-Apache_2.0-blue.svg"/></a>
  <a href="https://www.python.org/downloads/release/python-3100/" target="_blank"><img alt="Python Version" src="https://img.shields.io/badge/Python-3.10+-brightgreen.svg"/></a>
</div>
<div align="center">
  <a href="README.md">中文</a> | <a href="README_en.md">English</a>
</div>

---
# ContestTrade: A Multi-Agent Trading System Based on an Internal Contest Mechanism

**ContestTrade** is an innovative multi-agent trading framework that allows you to easily build your own exclusive AI trading team. Simply set the analysis time, and it will autonomously scan the entire market, unearthing potential investment opportunities from massive amounts of data. Through its internal optimization mechanism, it constructs the most reliable A-share investment portfolio for you.

> **Note:** This framework currently only supports the **Chinese A-share** market.

##  Introduction

This project aims to build a robust quantitative trading system powered by Large Language Models (LLMs).

To address the challenge of LLMs' sensitivity to market noise, we've developed an innovative multi-agent system with an internal competition mechanism. The system features two teams—a Data Team that processes market data into high-density text factors, and a Research Team that uses powerful financial tools to conduct in-depth analysis.

The core innovation is our self-adaptive competition mechanism, where agents in both teams are continuously ranked based on real-time market feedback. Only the decisions from the highest-performing "winners" are adopted. This approach significantly enhances the system's robustness and leads to superior trading performance.


## Framework Overview

<p align="center">
  <img src="assets/architecture.jpg" style="width: 90%; height: auto;">
</p>

The workflow of ContestTrade operates through a structured two-stage pipeline, simulating the dynamic decision-making process of an investment firm. This dual-contest framework ensures that final decisions are driven only by the most robust and effective insights, maintaining strong adaptability and resilience in complex markets.

1.  **Data Processing Stage:** First, raw market data from multiple sources is fed into the **Data Team**. Multiple Data Analysis Agents work in parallel to refine this raw data into structured "textual factors." At this stage, the internal contest mechanism evaluates the potential value of the factors generated by each data agent and constructs an optimal "factor portfolio."

2.  **Research and Decision-Making Stage:** This optimal factor portfolio is then passed to the **Research Team**. Multiple Research Agents, each with their unique "Trading Beliefs" and access to a powerful set of financial tools, conduct parallel, in-depth analyses of these factors and submit their respective trading proposals. A second round of internal contests then evaluates these proposals, ultimately synthesizing a unified and reliable asset allocation strategy as the final output.

## Installation

```bash
# 1. Clone the project repository
git clone https://github.com/FinStep-AI/ContestTrade.git
cd ContestTrade

# 2. (Recommended) Create and activate a virtual environment
conda create -n contesttrade python=3.10
conda activate contesttrade

# 3. Install project dependencies
pip install -r requirements.txt
```

## Configuration

Before running ContestTrade, you need to configure the necessary API keys and LLM parameters.

Edit the `config.yaml` file and enter your API keys. The table below lists all required and optional keys:

| Key                      | Description                                | Required |
| :----------------------- | :----------------------------------------- | :------- |
| `TUSHARE_KEY`            | Tushare data interface key                 | **Yes** |
| `BOCHA_KEY`              | Bocha search engine key                    | No       |
| `SERP_KEY`               | SerpAPI search engine key                  | No       |
| `LLM_API_KEY`            | LLM API key for general tasks              | **Yes** |
| `LLM_BASE_URL`           | LLM API base URL for general tasks         | **Yes** |
| `LLM_THINKING_API_KEY`   | LLM API key for complex reasoning          | No       |
| `LLM_THINKING_BASE_URL`  | LLM API base URL for complex reasoning     | No       |
| `VLM_API_KEY`            | VLM API key for visual analysis            | No       |
| `VLM_BASE_URL`           | VLM API base URL for visual analysis       | No       |

## Usage

You can easily start ContestTrade using the Command Line Interface (CLI).

```bash
python -m cli.main run
```

After the program starts, you'll enter the interactive terminal interface and can input the analysis time as prompted.
<p align="center">
  <img src="assets/contest_trade_cli_start.jpg" style="width: 100%; height: auto;">
</p>

After all agents have finished running, you can view the signals they provide in the results summary.
<p align="center">
  <img src="assets/contest_trade_cli_main.jpg" style="width: 100%; height: auto;">
</p>

You can also choose to view a more detailed report.
<p align="center">
  <img src="assets/contest_trade_cli_report.jpg" style="width: 100%; height: auto;">
</p>

<p align="center">
  <img src="assets/contest_trade_cli_report_detail.jpg" style="width: 100%; height: auto;">
</p>

## Disclaimer

**Important Disclaimer:** This project, `ContestTrade`, is an open-source quantitative trading research framework intended for academic and educational purposes only. The examples, data, and analysis results included in the project do not constitute any form of investment advice.

**Risk Warning:**
*   **Market Risk:** This project does not constitute any form of investment, financial, legal, or tax advice. All outputs, including trading signals and analyses, are the results of AI model deductions based on historical data and should not be considered a basis for any buy or sell operations.
*   **Data Accuracy:** The data sources used by the framework may be subject to delays, inaccuracies, or incompleteness. We do not guarantee the reliability of the data.
*   **Model Hallucination:** AI models (including Large Language Models) have inherent limitations and are subject to the risk of "hallucination." We do not guarantee the accuracy, completeness, or timeliness of the information generated by the framework.
*   **Liability:** The developers assume no liability for any direct or indirect losses resulting from the use of or inability to use this framework. Investing involves risks; enter the market with caution.

**Before using this framework for any actual trading decisions, be sure to fully understand the associated risks.**

## Contributing

We warmly welcome contributions from the community! Whether you want to fix a bug, add a new financial tool, or improve the documentation, your help is vital to us.

If you are interested, here are a few ways to get started:

*   Check the `Issues` page to find problems you can help solve.
*   Propose your new feature ideas.
*   Help us improve and translate the documentation.

## Citation

If you use ContestTrade in your research, please cite our paper:

```bibtex
@misc{zhao2025contesttrade,
      title={ContestTrade: A Multi-Agent Trading System Based on Internal Contest Mechanism}, 
      author={Li Zhao and Rui Sun and Zuoyou Jiang and Bo Yang and Yuxiao Bai and Mengting Chen and Xinyang Wang and Jing Li and Zuo Bai},
      year={2025},
      eprint={2508.00554},
      archivePrefix={arXiv},
      primaryClass={q-fin.TR}
}
```

## License

This project is licensed under the [Apache 2.0 License](LICENSE).
